<section class="py-6 px-4 md:px-10 md:py-6 text-cocoa text-center flex flex-col space-y-8">
    <h1 class="text-3xl md:text-4xl font-serif mb-4 md:mb-12">Our Chocolates</h1>

    <!-- Admin Add Chocolate -->
    {{#if session.isAdmin}}
        <div class="text-center md:text-right">
            <a
                    href="/chocolate/new"
                    class="bg-mocha text-white font-medium py-3 px-5 focus:outline-none focus:text-white focus:bg-wine rounded-full hover:bg-wine transition-colors"
            >
                + Add New Chocolate
            </a>
        </div>
    {{/if}}

    <!-- Chocolates List -->
    {{#if chocolates}}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12">
            {{#each chocolates}}
                <div class="bg-beige shadow-lg rounded-lg overflow-hidden transform transition-transform lg:hover:scale-105 lg:hover:shadow-xl text-center py-4">
                    <img src="/img/{{base_image}}" alt="{{name}}" class="w-full h-48 object-contain my-2">
                    <div class="p-6 space-y-2">
                        <h3 class="text-2xl font-serif text-mocha">{{name}}</h3>
                        <p class="antialiased tracking-wide leading-relaxed truncate">{{description}}</p>
                        <div>
                            <a href="/chocolates/{{id}}" class="text-caramel focus:outline-none focus:text-wine font-bold hover:text-wine transition-colors">
                                View Details
                            </a>
                        </div>
                    </div>
                    <!-- Admin Manage Chocolates -->
                    {{#if ../session.isAdmin}}
                        <div class="flex space-x-4 justify-center items-center">
                            <a
                                    href="/chocolate/modify/{{id}}"
                                    class="bg-mocha text-white py-2 px-4 focus:outline-none focus:text-white focus:bg-wine rounded-lg hover:bg-wine transition-colors"
                            >Edit</a>
                            <a
                                    href="/chocolate/delete/{{id}}"
                                    class="bg-caramel text-white py-2 px-4 focus:outline-none focus:text-white focus:bg-wine rounded-lg hover:bg-wine transition-colors"
                            >Delete</a>
                        </div>
                    {{/if}}
                </div>
            {{/each}}
        </div>

        <!-- Pagination between 1 and table count -->
        <div class="mt-8 flex justify-center space-x-4">
            {{#each (range totalPages)}}
                <a href="?page={{this}}" class="focus:outline-none focus:bg-wine focus:text-white py-2 px-4 rounded-full {{#ifEquals this ../currentPage}} bg-wine text-white {{else}} bg-beige text-caramel hover:bg-caramel hover:text-white {{/ifEquals}}">
                {{this}}
                </a>
            {{/each}}
        </div>
    {{else}}
        <p class="text-lg text-center text-mocha mt-6">No chocolates available at the moment. Please check back soon!</p>
    {{/if}}
</section>
